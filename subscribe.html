<!DOCTYPE html>
<html>
<head>
	<title>Angular Subscribe</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body ng-app="shopApp">

<center>
	<img src="angular.png" width="150px">
	<br>
	<h1>Angular Subscribe</h1>
	<div ng-controller="shopCtrl">
	<div class="card">
		<input type="text" ng-model="addItem" ng-keyup="cekPress()" class="inputan" style="background-color: {{ cekcolor }}"><button class="btn-sub" ng-click="addMe()">SUBSCRIBE</button>
	</div>
	<br>
	<div class="card">
	<ul class="listin">
		<li ng-repeat="x in listArray">{{ x }} <span style="cursor: pointer;" ng-click="removeItem($index)">&times;</span></li>
	</ul>
	</div>
</div>
</center>

<script>
	
	var app = angular.module('shopApp', []);
	app.controller('shopCtrl', function ($scope) {
		
		$scope.listArray = ["rakamaheka@gmail.com","maheka@yahoo.com","rakad321@gmail.com"];
		$scope.addMe = function(){
			$scope.errortext = "";
			if (!$scope.addItem) {return;}
			if ($scope.listArray.indexOf($scope.addItem) == -1) {
				$scope.listArray.push($scope.addItem);
			}else{
				$scope.errortext = alert("email sudah ada");
			}
			$scope.addItem = "";
		}
		$scope.removeItem = function (x){
			$scope.errortext = "";
			$scope.listArray.splice(x, 1);
		}
		$scope.cekPress = function(){
			if ($scope.listArray.indexOf($scope.addItem) == -1) {
				$scope.cekcolor = "#f1f1f1";
			}else{
				$scope.cekcolor = "#ffc2c0";
			}
		}

	});
	

</script>
</body>
</html>